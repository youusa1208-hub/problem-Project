package db;

import java.sql.*;
import java.util.*;
import javax.naming.*;
import beans.PtypeBean;

public class PtypeDao extends Dao {
//	SELECT文用
	public List<PtypeBean> select()
		throws NamingException,SQLException{
//		Listコレクションに格納
		List<PtypeBean> list = new ArrayList<>;
		String sql = "SELECT * FROM ptype ORDER BY ptid";
//		親クラスのメソッドを呼び出す
		PreparedStatement stmt = prepareStatement(sql);
		ResultSet rs = stmt.executeQuery();
		while(rs.next()){			
			PtypeBean pb = new PtypeBean();
			pb.setPtid(rs.getInt("ptid"));
			pb.setPtname(rs.getString("ptname"));
			pb.setPtimg(rs.getString("ptimg"));
			list.add(pb);
		}
		return list;
	}
	
}
